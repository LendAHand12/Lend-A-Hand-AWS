import{r as a,j as e}from"./react-2cd99521.js";import{P as w}from"./Payment-fe94b2e1.js";import{L as S}from"./index-f32d7dd4.js";import{N as P}from"./index-d78bf89c.js";import{t as x}from"./transStatus-3bd2a35e.js";import{Q as k,k as C}from"./react-toastify-9069338f.js";import{s as T}from"./index-4749bbbd.js";import{u as R}from"./react-i18next-e3fc60cf.js";import"./@ethereumjs-a0310e2a.js";import"./clsx-1229b3e0.js";import"./react-dom-3bfafca0.js";import"./scheduler-765c72db.js";import"./react-redux-5bfe471e.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./use-sync-external-store-b588041f.js";import"./wagmi-a971f881.js";import"./@tanstack-45f509e5.js";import"./@wagmi-21bd2ff5.js";import"./zustand-96774db3.js";import"./viem-a9891897.js";import"./@noble-904ea724.js";import"./eventemitter3-951c0ce8.js";import"./@reduxjs-5da8789b.js";import"./immer-41fd5235.js";import"./redux-4e8b28bc.js";import"./@babel-1086f5cb.js";import"./redux-thunk-ef899f4c.js";import"./react-router-dom-e78e2396.js";import"./react-router-d6ff755c.js";import"./history-ab5531d8.js";import"./resolve-pathname-e210f2ac.js";import"./value-equal-17d7769a.js";import"./tiny-invariant-dd7d57d2.js";import"./mini-create-react-context-6807ee74.js";import"./prop-types-19d89cee.js";import"./path-to-regexp-e4bf7bdb.js";import"./isarray-7a86238f.js";import"./axios-4a70c6fc.js";import"./query-string-e8aaf39e.js";import"./i18next-81de2c97.js";import"./i18next-browser-languagedetector-057d838e.js";const je=()=>{const{t:i}=R(),[s,d]=a.useState(1),[n,h]=a.useState(0),[m,g]=a.useState(""),[p,u]=a.useState("all"),[l,c]=a.useState(!0),[o,y]=a.useState([]);a.useEffect(()=>{(async()=>(c(!0),await w.getAllPayments(s,m,p).then(t=>{const{payments:r,pages:N}=t.data;y(r),h(N),c(!1)}).catch(t=>{let r=t.response&&t.response.data.error?t.response.data.error:t.message;k.error(i(r)),c(!1)})))()},[s,m,p]);const j=t=>u(t.target.value),b=t=>{setTimeout(()=>{g(t.target.value)},1e3)},f=()=>{d(t=>t+1)},v=()=>{d(t=>t-1)};return e.jsxs("div",{children:[e.jsx(C,{}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg p-10",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 bg-white",children:[e.jsx("div",{children:e.jsxs("select",{className:"block p-2 pr-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none active:outline-none",onChange:j,defaultValue:"all",children:[e.jsx("option",{value:"all",children:"All"}),x.map(t=>e.jsx("option",{value:t.status,children:i(t.status)},t.status))]})}),e.jsx("label",{htmlFor:"table-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",onChange:b,className:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50",placeholder:"Search for transactions"})]})]}),e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"User ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Hash"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Time"})]})}),e.jsx("tbody",{children:o.length>0&&!l&&o.map(t=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap ",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-base font-semibold",children:t.userId}),e.jsx("div",{className:"font-normal text-gray-500",children:t.email})]})}),e.jsx("td",{className:"px-6 py-4 text-blue-600",children:e.jsx("a",{href:`https://bscscan.com/tx/${t.hash}`,target:"_blank",rel:"noreferrer",children:T(t.hash)})}),e.jsxs("td",{className:"px-6 py-4",children:[t.amount," USDT"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:`max-w-fit text-white rounded-sm py-1 px-2 text-sm ${x.find(r=>r.status===t.type).color} mr-2`,children:i(t.type)})}),e.jsx("td",{className:"px-6 py-4",children:t.createdAt})]},t._id))})]}),l&&e.jsx("div",{className:"w-full flex justify-center my-4",children:e.jsx(S,{})}),!l&&o.length===0&&e.jsx(P,{}),!l&&o.length>0&&e.jsxs("nav",{className:"flex items-center justify-between pt-4","aria-label":"Table navigation",children:[e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["Showing"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:s})," ","of"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:n})," ","page"]}),e.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[e.jsx("li",{children:e.jsxs("button",{disabled:s===1,onClick:v,className:`block px-3 py-2 ml-0 leading-tight text-gray-500 ${s===1?"bg-gray-100":"bg-white"} border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),e.jsx("li",{children:e.jsxs("button",{disabled:s===n,onClick:f,className:`block px-3 py-2 leading-tight text-gray-500 ${s===n?"bg-gray-100":"bg-white"} border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]})]})};export{je as default};
