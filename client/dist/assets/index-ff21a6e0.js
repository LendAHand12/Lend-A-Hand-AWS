import{r as b,j as r}from"./react-2cd99521.js";import{u as j}from"./react-hook-form-bd013bdf.js";import{Q as i,k as N}from"./react-toastify-9069338f.js";import{q as v}from"./query-string-e8aaf39e.js";import{L as P}from"./layout-e678985a.js";import{L as q}from"./index-f32d7dd4.js";import{A as L}from"./Auth-c3d56798.js";import{u as S}from"./react-i18next-e3fc60cf.js";import{d as C,u as k}from"./react-router-d6ff755c.js";import"./@ethereumjs-a0310e2a.js";import"./clsx-1229b3e0.js";import"./react-router-dom-e78e2396.js";import"./@babel-1086f5cb.js";import"./history-ab5531d8.js";import"./resolve-pathname-e210f2ac.js";import"./value-equal-17d7769a.js";import"./tiny-invariant-dd7d57d2.js";import"./index-4749bbbd.js";import"./react-dom-3bfafca0.js";import"./scheduler-765c72db.js";import"./react-redux-5bfe471e.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./use-sync-external-store-b588041f.js";import"./wagmi-a971f881.js";import"./@tanstack-45f509e5.js";import"./@wagmi-21bd2ff5.js";import"./zustand-96774db3.js";import"./viem-a9891897.js";import"./@noble-904ea724.js";import"./eventemitter3-951c0ce8.js";import"./@reduxjs-5da8789b.js";import"./immer-41fd5235.js";import"./redux-4e8b28bc.js";import"./redux-thunk-ef899f4c.js";import"./axios-4a70c6fc.js";import"./i18next-81de2c97.js";import"./i18next-browser-languagedetector-057d838e.js";import"./mini-create-react-context-6807ee74.js";import"./prop-types-19d89cee.js";import"./path-to-regexp-e4bf7bdb.js";import"./isarray-7a86238f.js";const wr=()=>{var d,p;const{t:e}=S(),c=C(),u=k(),f=v.parse(u.search);let{token:m}=f;m||i.error(e("invalidUrl"));const{register:l,handleSubmit:x,watch:h,formState:{errors:n}}=j({}),[o,t]=b.useState(!1),g=async a=>{t(!0);const{password:w}=a;await L.resetPassword({token:m,password:w}).then(s=>{t(!1),i.success(s.data.message),setTimeout(()=>{c.push("/login")},2e3)}).catch(s=>{let y=s.response&&s.response.data.error?s.response.data.error:s.message;i.error(y),t(!1)})};return r.jsxs(P,{children:[r.jsx(N,{}),r.jsx("div",{className:"min-h-screen bg-white",children:r.jsx("div",{className:"text-gray-900 flex justify-center bg-white",children:r.jsx("div",{className:"max-w-screen-xl m-0 sm:m-10 flex justify-center flex-1",children:r.jsx("div",{className:"w-full p-12",children:r.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[r.jsx("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:e("resetPassword")}),r.jsx("div",{className:"w-full flex-1 mt-8",children:r.jsxs("form",{className:"mx-auto max-w-xl",onSubmit:x(g),autoComplete:"off",children:[r.jsx("input",{className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Password",...l("password",{required:"Password is required"}),disabled:o}),r.jsx("p",{className:"error-message-text",children:(d=n.password)==null?void 0:d.message}),r.jsx("input",{className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Confirm Password",...l("confirmPassword",{required:"Confirm password is required",validate:a=>{if(h("password")!=a)return"Your passwords do no match"}}),disabled:o}),r.jsx("p",{className:"error-message-text",children:(p=n.confirmPassword)==null?void 0:p.message}),r.jsxs("button",{type:"submit",className:"w-full flex justify-center items-center hover:underline gradient text-white font-bold rounded-full my-6 py-4 px-8 shadow-lg focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out",children:[o&&r.jsx(q,{}),e("confirm")]})]})})]})})})})})]})};export{wr as default};
