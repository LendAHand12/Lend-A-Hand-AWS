import{r as t,j as s}from"./react-2cd99521.js";import{a as b}from"./react-redux-5bfe471e.js";import{u as w}from"./react-hook-form-bd013bdf.js";import{U as n,c as E}from"./index-4749bbbd.js";import{Q as o,k as D}from"./react-toastify-9069338f.js";import{F}from"./fslightbox-react-f4b77903.js";import{u as S}from"./react-i18next-e3fc60cf.js";import"./@ethereumjs-a0310e2a.js";import"./react-dom-3bfafca0.js";import"./scheduler-765c72db.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./use-sync-external-store-b588041f.js";import"./wagmi-a971f881.js";import"./@tanstack-45f509e5.js";import"./@wagmi-21bd2ff5.js";import"./zustand-96774db3.js";import"./viem-a9891897.js";import"./@noble-904ea724.js";import"./eventemitter3-951c0ce8.js";import"./@reduxjs-5da8789b.js";import"./immer-41fd5235.js";import"./redux-4e8b28bc.js";import"./@babel-1086f5cb.js";import"./redux-thunk-ef899f4c.js";import"./react-router-dom-e78e2396.js";import"./react-router-d6ff755c.js";import"./history-ab5531d8.js";import"./resolve-pathname-e210f2ac.js";import"./value-equal-17d7769a.js";import"./tiny-invariant-dd7d57d2.js";import"./mini-create-react-context-6807ee74.js";import"./prop-types-19d89cee.js";import"./path-to-regexp-e4bf7bdb.js";import"./isarray-7a86238f.js";import"./axios-4a70c6fc.js";import"./query-string-e8aaf39e.js";import"./i18next-81de2c97.js";import"./i18next-browser-languagedetector-057d838e.js";import"./clsx-1229b3e0.js";const us=p=>{const{id:l}=p.match.params,{t:g}=S(),x=b(),[T,r]=t.useState(),[e,h]=t.useState({}),[m,j]=t.useState(!1),c=()=>j(!m),{register:k,handleSubmit:u,formState:{errors:U}}=w({defaultValues:{}});t.useEffect(()=>{(async()=>await n.getUserById(l).then(i=>{console.log(i.data),r(!1),h(i.data)}).catch(i=>{let d=i.response&&i.response.data.error?i.response.data.error:i.message;o.error(d),r(!1)}))()},[l]);const N=async i=>{console.log({data:i});const{walletAddress:d,imgFront:f,imgBack:y}=i;await n.update(l,{walletAddress:d,imgFront:f[0],imgBack:y[0]}).then(a=>{r(!1),o.success(a.data.message),x(E(a.data.data))}).catch(a=>{let v=a.response&&a.response.data.error?a.response.data.error:a.message;o.error(v),r(!1)})};return s.jsxs("div",{children:[s.jsx(D,{}),s.jsx("div",{className:"container mx-auto p-5",children:s.jsxs("div",{className:"md:flex no-wrap md:-mx-2 ",children:[s.jsx("div",{className:"w-full lg:w-3/12 lg:mx-2 mb-4 lg:mb-0",children:s.jsx("div",{className:"bg-white shadow-md p-3 border-t-4 border-primary",children:s.jsxs("ul",{className:" text-gray-600 py-2 px-3 mt-3 divide-y rounded",children:[s.jsxs("li",{className:"flex items-center py-3",children:[s.jsx("span",{children:"Status"}),s.jsx("span",{className:"ml-auto",children:s.jsx("span",{className:`${e.status==="UNVERIFY"?"bg-red-600":e.status==="PENDING"?"bg-yellow-600":e.status==="APPROVED"?"bg-green-600":e.status==="REJECTED"||e.status==="LOCKED"?"bg-red-600":""}  py-1 px-2 rounded text-white text-sm`,children:g(e.status)})})]}),s.jsxs("li",{className:"flex items-center py-3",children:[s.jsx("span",{children:"Member since"}),s.jsx("span",{className:"ml-auto",children:new Date(e.createdAt).toLocaleDateString("vi")})]})]})})}),s.jsx("div",{className:"w-full lg:w-9/12 lg:mx-2",children:s.jsx("form",{onSubmit:u(N),encType:"multipart/form-data",className:"bg-white p-6 shadow-md rounded-sm border-t-4 border-primary",children:s.jsx("div",{className:"text-gray-700",children:s.jsxs("div",{className:"grid grid-cols-1 text-sm",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"User ID"}),s.jsx("div",{className:"px-4 py-2",children:e.userId})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"Email"}),s.jsx("div",{className:"px-4 py-2",children:e.email})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"Wallet address"}),s.jsx("div",{className:"px-4 py-2",children:e.walletAddress})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"Tier"}),s.jsx("div",{className:"px-4 py-2",children:e.tier})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"Fine"}),s.jsx("div",{className:"px-4 py-2",children:e.fine})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"The front of identity card"}),s.jsx("img",{onClick:c,src:e.imgFront,className:"w-full px-4 py-2"})]}),s.jsx(F,{toggler:m,sources:[e.imgFront,e.imgBack]}),s.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[s.jsx("div",{className:"px-4 py-2 font-semibold",children:"The back of identity card"}),s.jsx("img",{onClick:c,src:e.imgBack,className:"w-full px-4 py-2"})]})]})})})})]})})]})};export{us as default};
