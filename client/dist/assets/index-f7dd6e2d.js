import{r,j as e}from"./react-2cd99521.js";import{U as h}from"./index-4749bbbd.js";import{Q as n,k as A}from"./react-toastify-9069338f.js";import{N as M}from"./index-d78bf89c.js";import{L as D}from"./index-f32d7dd4.js";import{u as B}from"./react-i18next-e3fc60cf.js";import{d as V}from"./react-router-d6ff755c.js";import"./@ethereumjs-a0310e2a.js";import"./react-dom-3bfafca0.js";import"./scheduler-765c72db.js";import"./react-redux-5bfe471e.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./use-sync-external-store-b588041f.js";import"./wagmi-a971f881.js";import"./@tanstack-45f509e5.js";import"./@wagmi-21bd2ff5.js";import"./zustand-96774db3.js";import"./viem-a9891897.js";import"./@noble-904ea724.js";import"./eventemitter3-951c0ce8.js";import"./@reduxjs-5da8789b.js";import"./immer-41fd5235.js";import"./redux-4e8b28bc.js";import"./@babel-1086f5cb.js";import"./redux-thunk-ef899f4c.js";import"./react-router-dom-e78e2396.js";import"./history-ab5531d8.js";import"./resolve-pathname-e210f2ac.js";import"./value-equal-17d7769a.js";import"./tiny-invariant-dd7d57d2.js";import"./axios-4a70c6fc.js";import"./query-string-e8aaf39e.js";import"./i18next-81de2c97.js";import"./i18next-browser-languagedetector-057d838e.js";import"./mini-create-react-context-6807ee74.js";import"./prop-types-19d89cee.js";import"./path-to-regexp-e4bf7bdb.js";import"./isarray-7a86238f.js";import"./clsx-1229b3e0.js";const w=[{status:"UNVERIFY",color:"bg-red-600"},{status:"PENDING",color:"bg-yellow-600"},{status:"APPROVED",color:"bg-green-600"},{status:"REJECTED",color:"bg-red-600"},{status:"LOCKED",color:"bg-red-600"}],Ne=()=>{const{t:l}=B(),y=V(),[o,x]=r.useState(1),[d,v]=r.useState(0),[u,f]=r.useState(""),[g,N]=r.useState("all"),[i,m]=r.useState(!0),[c,b]=r.useState([]),[p,j]=r.useState(!1);r.useEffect(()=>{(async()=>(m(!0),await h.getAllUsers(o,u,g).then(s=>{const{users:t,pages:a}=s.data;b(t),v(a),m(!1)}).catch(s=>{let t=s.response&&s.response.data.error?s.response.data.error:s.message;n.error(l(t)),m(!1)})))()},[o,u,g,p]);const k=s=>N(s.target.value),C=s=>{setTimeout(()=>{f(s.target.value)},1e3)},L=async s=>{await h.changeStatus({id:s,status:"APPROVED"}).then(t=>{const{message:a}=t.data;j(!p),n.success(l(a))}).catch(t=>{let a=t.response&&t.response.data.error?t.response.data.error:t.message;n.error(l(a))})},S=s=>{y.push(`/admin/users/${s}`)},E=async s=>{await h.changeStatus({id:s,status:"LOCKED"}).then(t=>{const{message:a}=t.data;j(!p),n.success(a)}).catch(t=>{let a=t.response&&t.response.data.error?t.response.data.error:t.message;n.error(l(a))})},P=()=>{x(s=>s+1)},R=()=>{x(s=>s-1)};return e.jsxs("div",{children:[e.jsx(A,{}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg p-10",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 bg-white",children:[e.jsx("div",{children:e.jsxs("select",{className:"block p-2 pr-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none active:outline-none",onChange:k,defaultValue:"all",children:[e.jsx("option",{value:"all",children:"All"}),w.map(s=>e.jsx("option",{value:s.status,children:l(s.status)},s.status))]})}),e.jsx("label",{htmlFor:"table-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",onChange:C,className:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50",placeholder:"Search for users"})]})]}),e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:c.length>0&&!i&&c.map(s=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap ",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-base font-semibold",children:s.userId}),e.jsx("div",{className:"font-normal text-gray-500",children:s._id})]})}),e.jsx("td",{className:"px-6 py-4",children:s.email}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:`max-w-fit text-white rounded-sm py-1 px-2 text-sm ${w.find(t=>t.status===s.status).color} mr-2`,children:l(s.status)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-6",children:[s.status==="PENDING"&&e.jsx("button",{onClick:()=>L(s._id),className:"font-medium text-gray-500 hover:text-primary",children:e.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",id:"check","data-name":"Flat Line",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-auto",children:e.jsx("polyline",{id:"primary",points:"5 12 10 17 19 8",style:{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}})})}),s.status!=="UNVERIFY"&&e.jsx("button",{onClick:()=>S(s._id),className:"font-medium text-gray-500 hover:text-primary",children:e.jsx("svg",{fill:"currentColor",className:"w-6 h-auto",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21.92,11.6C19.9,6.91,16.1,4,12,4S4.1,6.91,2.08,11.6a1,1,0,0,0,0,.8C4.1,17.09,7.9,20,12,20s7.9-2.91,9.92-7.6A1,1,0,0,0,21.92,11.6ZM12,18c-3.17,0-6.17-2.29-7.9-6C5.83,8.29,8.83,6,12,6s6.17,2.29,7.9,6C18.17,15.71,15.17,18,12,18ZM12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"})})}),s.status==="APPROVED"&&e.jsx("button",{className:"font-medium text-gray-500 hover:text-primary",children:e.jsxs("svg",{className:"w-6 h-auto",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"48",height:"48",fill:"white",fillOpacity:"0.01"}),e.jsx("path",{d:"M13.0448 14C13.5501 8.3935 18.262 4 24 4C29.738 4 34.4499 8.3935 34.9552 14H35C39.9706 14 44 18.0294 44 23C44 27.9706 39.9706 32 35 32H13C8.02944 32 4 27.9706 4 23C4 18.0294 8.02944 14 13 14H13.0448Z",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M24 28L29 23",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M24 25L18 19",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M24 44V18",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("button",{onClick:()=>E(s._id),className:"font-medium text-gray-500 hover:text-primary",children:e.jsx("svg",{fill:"currentColor",viewBox:"-3.5 0 19 19",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-auto",children:e.jsx("path",{d:"M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"})})})]})})]},s._id))})]}),i&&e.jsx("div",{className:"w-full flex justify-center my-4",children:e.jsx(D,{})}),!i&&c.length===0&&e.jsx(M,{}),!i&&c.length>0&&e.jsxs("nav",{className:"flex items-center justify-between pt-4","aria-label":"Table navigation",children:[e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["Showing"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:o})," ","of"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:d})," ","page"]}),e.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[e.jsx("li",{children:e.jsxs("button",{disabled:o===1,onClick:R,className:`block px-3 py-2 ml-0 leading-tight text-gray-500 ${o===1?"bg-gray-100":"bg-white"} border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),e.jsx("li",{children:e.jsxs("button",{disabled:o===d,onClick:P,className:`block px-3 py-2 leading-tight text-gray-500 ${o===d?"bg-gray-100":"bg-white"} border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]})]})};export{Ne as default};
