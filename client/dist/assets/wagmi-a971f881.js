import{p as O,Q as R,c as W,a as j,b as q,u as F}from"./@tanstack-45f509e5.js";import{c as M,a as P,n as Q,b as _,d as S,e as K,f as I,h as T}from"./@wagmi-21bd2ff5.js";import{r as f}from"./react-2cd99521.js";import{w as z}from"./use-sync-external-store-b588041f.js";function X({queryClient:e=new R({defaultOptions:{queries:{cacheTime:1e3*60*60*24,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}}),storage:t=P({storage:typeof window<"u"&&window.localStorage?window.localStorage:Q}),persister:c=typeof window<"u"?W({key:"cache",storage:t,serialize:n=>n,deserialize:n=>n}):void 0,...r}){const n=M({...r,storage:t});return c&&O({queryClient:e,persister:c,dehydrateOptions:{shouldDehydrateQuery:i=>i.cacheTime!==0&&i.queryKey[0].persist!==!1}}),Object.assign(n,{queryClient:e})}var g=f.createContext(void 0),x=f.createContext(void 0);function Y({children:e,config:t}){return f.createElement(g.Provider,{children:f.createElement(j,{children:e,client:t.queryClient,context:x}),value:t})}function L(){const e=f.useContext(g);if(!e)throw new Error(["`useConfig` must be used within `WagmiConfig`.\n","Read more: https://wagmi.sh/react/WagmiConfig"].join(`
`));return e}function E(e,t,c){const r=q(e,t,c);return F({context:x,...r})}var v=e=>typeof e=="object"&&!Array.isArray(e);function $(e,t,c=t,r=I){const n=f.useRef([]),i=z.useSyncExternalStoreWithSelector(e,t,c,o=>o,(o,u)=>{if(v(o)&&v(u)&&n.current.length){for(const a of n.current)if(!r(o[a],u[a]))return!1;return!0}return r(o,u)});if(v(i)){const o={...i};return Object.defineProperties(o,Object.entries(o).reduce((u,[a,m])=>({...u,[a]:{configurable:!1,enumerable:!0,get:()=>(n.current.includes(a)||n.current.push(a),m)}}),{})),o}return i}function Z({onConnect:e,onDisconnect:t}={}){const c=f.useCallback(a=>_().subscribe(d=>{var l;return{address:(l=d.data)==null?void 0:l.account,connector:d.connector,status:d.status}},(d,l)=>(e&&l.status!=="connected"&&d.status==="connected"&&e({address:d.address,connector:d.connector,isReconnected:l.status==="reconnecting"}),t&&l.status==="connected"&&d.status==="disconnected"&&t(),a(S()))),[e,t]),r=$(c,S),n=f.useRef(),{address:i,connector:o,status:u}=r;return f.useEffect(()=>{e&&n.current===void 0&&u==="connected"&&e({address:i,connector:o,isReconnected:!0}),n.current=u},[]),r}var B=e=>[{entity:"connect",...e}],D=e=>{const{connector:t,chainId:c}=e;if(!t)throw new Error("connector is required");return T({connector:t,chainId:c})};function ee({chainId:e,connector:t,onError:c,onMutate:r,onSettled:n,onSuccess:i}={}){const o=L(),{data:u,error:a,isError:m,isIdle:p,isLoading:d,isSuccess:l,mutate:y,mutateAsync:w,reset:h,status:C,variables:b}=E(B({connector:t,chainId:e}),D,{onError:c,onMutate:r,onSettled:n,onSuccess:i}),A=f.useCallback(s=>y({chainId:(s==null?void 0:s.chainId)??e,connector:(s==null?void 0:s.connector)??t}),[e,t,y]),k=f.useCallback(s=>w({chainId:(s==null?void 0:s.chainId)??e,connector:(s==null?void 0:s.connector)??t}),[e,t,w]);return{connect:A,connectAsync:k,connectors:o.connectors,data:u,error:a,isError:m,isIdle:p,isLoading:d,isSuccess:l,pendingConnector:b==null?void 0:b.connector,reset:h,status:C,variables:b}}var G=[{entity:"disconnect"}],H=()=>K();function te({onError:e,onMutate:t,onSettled:c,onSuccess:r}={}){const{error:n,isError:i,isIdle:o,isLoading:u,isSuccess:a,mutate:m,mutateAsync:p,reset:d,status:l}=E(G,H,{...e?{onError(y,w,h){e(y,h)}}:{},onMutate:t,...c?{onSettled(y,w,h,C){c(w,C)}}:{},...r?{onSuccess(y,w,h){r(h)}}:{}});return{disconnect:m,disconnectAsync:p,error:n,isError:i,isIdle:o,isLoading:u,isSuccess:a,reset:d,status:l}}export{Y as W,ee as a,te as b,X as c,Z as u};
