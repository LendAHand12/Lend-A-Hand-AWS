import{r as o,j as e}from"./react-2cd99521.js";import{u as g}from"./react-redux-5bfe471e.js";import{L as j}from"./index-f32d7dd4.js";import{Q as d,k as b}from"./react-toastify-9069338f.js";import{U as v}from"./index-4749bbbd.js";import{u as y}from"./react-i18next-e3fc60cf.js";import"./@ethereumjs-a0310e2a.js";import"./react-dom-3bfafca0.js";import"./scheduler-765c72db.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./use-sync-external-store-b588041f.js";import"./clsx-1229b3e0.js";import"./wagmi-a971f881.js";import"./@tanstack-45f509e5.js";import"./@wagmi-21bd2ff5.js";import"./zustand-96774db3.js";import"./viem-a9891897.js";import"./@noble-904ea724.js";import"./eventemitter3-951c0ce8.js";import"./@reduxjs-5da8789b.js";import"./immer-41fd5235.js";import"./redux-4e8b28bc.js";import"./@babel-1086f5cb.js";import"./redux-thunk-ef899f4c.js";import"./react-router-dom-e78e2396.js";import"./react-router-d6ff755c.js";import"./history-ab5531d8.js";import"./resolve-pathname-e210f2ac.js";import"./value-equal-17d7769a.js";import"./tiny-invariant-dd7d57d2.js";import"./mini-create-react-context-6807ee74.js";import"./prop-types-19d89cee.js";import"./path-to-regexp-e4bf7bdb.js";import"./isarray-7a86238f.js";import"./axios-4a70c6fc.js";import"./query-string-e8aaf39e.js";import"./i18next-81de2c97.js";import"./i18next-browser-languagedetector-057d838e.js";const ne=()=>{const{t:r}=y(),[c,a]=o.useState(!0),{userInfo:p}=g(t=>t.auth),[s,u]=o.useState(""),[n,x]=o.useState([]),i=`http://localhost:5173/register?ref=${p.id}`,[l,m]=o.useState(i);o.useEffect(()=>{m(s===""?i:`${i}&receiveId=${s}`)},[s,i]),o.useEffect(()=>{(async()=>(a(!0),await v.getListChild().then(t=>{console.log({data:t.data}),x(t.data),a(!1)}).catch(t=>{let h=t.response&&t.response.data.error?t.response.data.error:t.message;d.error(r(h)),a(!1)})))()},[]);const f=()=>{navigator.clipboard.writeText(l),d.success(r("copied"))};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("div",{className:"w-full mx-auto rounded-lg bg-white shadow-xl p-5 text-gray-700 mt-4",style:{maxWidth:"600px"},children:[e.jsx("div",{className:"mb-10",children:e.jsx("h1",{className:"text-center font-bold text-xl uppercase",children:r("Create referral link")})}),c?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(j,{})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"font-bold text-sm mb-2 ml-1",children:r("Choose children")}),e.jsx("div",{children:e.jsxs("select",{onChange:t=>{u(t.target.value)},value:s,className:"form-select w-full px-3 py-2 mb-1 border-2 border-gray-200 rounded-md focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:r("No choose")}),n.length>0&&n.map(t=>e.jsx("option",{value:t.id,children:t.userId},t.id))]})})]}),e.jsxs("div",{className:"mb-3 flex gap-4",children:[e.jsx("input",{className:"flex-1 px-3 py-2 mb-1 border-2 border-gray-200 rounded-md focus:outline-none focus:border-indigo-500 transition-colors",type:"text",value:l,readOnly:!0}),e.jsx("button",{onClick:f,className:"flex text-xs justify-center items-center hover:underline gradient text-white font-bold rounded-full py-1 px-4 shadow-lg focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out",children:"Copy"})]})]})]})]})};export{ne as default};
