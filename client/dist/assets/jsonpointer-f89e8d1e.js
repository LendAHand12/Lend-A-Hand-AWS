var a={},v=/~/,h=/~[01]/g;function w(r){switch(r){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+r)}function l(r){return v.test(r)?r.replace(h,w):r}function y(r,e,n){for(var t,i,f=1,c=e.length;f<c;){if(e[f]==="constructor"||e[f]==="prototype"||e[f]==="__proto__")return r;if(t=l(e[f++]),i=c>f,typeof r[t]>"u"&&(Array.isArray(r)&&t==="-"&&(t=r.length),i&&(e[f]!==""&&e[f]<1/0||e[f]==="-"?r[t]=[]:r[t]={})),!i)break;r=r[t]}var d=r[t];return n===void 0?delete r[t]:r[t]=n,d}function u(r){if(typeof r=="string"){if(r=r.split("/"),r[0]==="")return r;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(r)){for(const e of r)if(typeof e!="string"&&typeof e!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return r}throw new Error("Invalid JSON pointer.")}function s(r,e){if(typeof r!="object")throw new Error("Invalid input object.");e=u(e);var n=e.length;if(n===1)return r;for(var t=1;t<n;){if(r=r[l(e[t++])],n===t)return r;if(typeof r!="object"||r===null)return}}function o(r,e,n){if(typeof r!="object")throw new Error("Invalid input object.");if(e=u(e),e.length===0)throw new Error("Invalid JSON pointer for set.");return y(r,e,n)}function g(r){var e=u(r);return{get:function(n){return s(n,e)},set:function(n,t){return o(n,e,t)}}}a.get=s;a.set=o;a.compile=g;export{a as j};
