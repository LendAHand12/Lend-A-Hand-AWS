import{R as y,r as m}from"./react-2cd99521.js";import{j as _}from"./@babel-1086f5cb.js";import{P as b}from"./prop-types-19d89cee.js";var d=1073741823,x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function g(){var e="__global_unique_id__";return x[e]=(x[e]||0)+1}function C(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function P(e){var r=[];return{on:function(i){r.push(i)},off:function(i){r=r.filter(function(o){return o!==i})},get:function(){return e},set:function(i,o){e=i,r.forEach(function(l){return l(e,o)})}}}function R(e){return Array.isArray(e)?e[0]:e}function T(e,r){var a,i,o="__create-react-context-"+g()+"__",l=function(f){_(c,f);function c(){var t;return t=f.apply(this,arguments)||this,t.emitter=P(t.props.value),t}var s=c.prototype;return s.getChildContext=function(){var n;return n={},n[o]=this.emitter,n},s.componentWillReceiveProps=function(n){if(this.props.value!==n.value){var u=this.props.value,v=n.value,p;C(u,v)?p=0:(p=typeof r=="function"?r(u,v):d,p|=0,p!==0&&this.emitter.set(n.value,p))}},s.render=function(){return this.props.children},c}(m.Component);l.childContextTypes=(a={},a[o]=b.object.isRequired,a);var h=function(f){_(c,f);function c(){var t;return t=f.apply(this,arguments)||this,t.state={value:t.getValue()},t.onUpdate=function(n,u){var v=t.observedBits|0;v&u&&t.setState({value:t.getValue()})},t}var s=c.prototype;return s.componentWillReceiveProps=function(n){var u=n.observedBits;this.observedBits=u??d},s.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var n=this.props.observedBits;this.observedBits=n??d},s.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},s.getValue=function(){return this.context[o]?this.context[o].get():e},s.render=function(){return R(this.props.children)(this.state.value)},c}(m.Component);return h.contextTypes=(i={},i[o]=b.object,i),{Provider:l,Consumer:h}}var E=y.createContext||T;export{E as i};
